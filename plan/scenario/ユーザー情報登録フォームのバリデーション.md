---
tags:
  - フォーム
工数:
参照:
---
## Why

| As：ペルソナ | I want：～したい           | So that：そうすることで、～からだ       |
| ------- | --------------------- | -------------------------- |
| ユーザーは   | フォーム入力のミスを登録実行前に認識したい | そうすることで、登録実行時の失敗回数が減るからだ   |
| システムは   | パスワードの内容に制限をかけたい      | そうすることで、セキュアなシステムを構築できるからだ |
## Acceptance Criteria

| Given：～の場合         | When：～の時                              | Then：～なる       |
| ------------------ | ------------------------------------- | -------------- |
| メールアドレスフォームに入力する場合 | 入力欄が空欄の時                              | 「入力必須」エラーになる   |
| メールアドレスフォームに入力する場合 | 下記を入力した時<br>- email：`@invalid[A]mail` | 「書式が異なる」エラーになる |
| メールアドレスフォームに入力する場合 | フォームに256文字以上を入力しようとした時                | 256文字以上は入力できない |
| パスワードフォームに入力する場合   | 入力欄が空欄の時                              | 「入力必須」エラーになる   |
| パスワードフォームに入力する場合   | フォームに下記を入力した時<br>- password：`pass`    | 「書式が異なる」エラーになる |
| パスワードフォームに入力する場合   | フォームに256文字以上を入力しようとした時                | 256文字以上は入力できない |
## 代替案
## 判断メモ
- 別でも使えそうな判断があれば切り出す（パスワードの適切な制限に関する判断 など）
- パスワードの複雑性に関する判断基準
	- 必須の最小長さ: ユーザーが選択するパスワードは、Verifierによって少なくとも8文字であることが要求されるものとします。ただし、パスワードのみの認証で実装する場合、より高い安全性を確保するために、最低15文字以上の長さを推奨する最新のガイダンス（NIST SP 800-63B-4に基づく）があります
	- 最大長さの許容: ユーザーがパスフレーズなどの長いパスワードを利用することを奨励するため、Verifierは少なくとも64文字までのパスワードを許可すべきです
	- 非推奨の複雑さルール: 異なる文字種の組み合わせ（大文字、小文字、数字、記号）や、一定の文字の繰り返しといったその他の構成ルールを記憶シークレットに課すべきではありません,,,。このようなルールは、ユーザーに「Password1!」のような予測可能なパスワードパターンを選択させる傾向があり、かえって推測を容易にするためです
	- 危殆化パスワードの拒否: 記憶シークレットの設定または変更の際、Verifierは、候補となるシークレットの値を、一般的に利用されている値、予想されうる値、危殆化した値を含むリスト（ブラックリスト）と比較するものとします
	- 原則禁止: Verifierは、記憶シークレットを任意で（例えば、定期的に）変更するよう要求すべきではありません,,。定期的な変更は、ユーザーが前のパスワードからわずか1文字だけ変更するなど、予測されやすいパターンを生むため、強度の低下につながります
	- ペースト機能の許可: Claimantによる記憶シークレットの入力時に**「ペースト」機能を利用することを許可すべき**です,。これはパスワードマネージャの利用を促進し、ユーザーがより強力な記憶シークレットを選択する可能性を増加させます
	- パスワード強度メーター: ユーザーが強力なパスワードを選択するのを支援するため、パスワード強度メーターのようなガイダンスを行うべきです
	- ヒント/秘密の質問の禁止: Verifierは、UnauthenticatedなClaimantでも到達可能な「ヒント」の記録を許可しないものとします。また、パスワード回復のために「あなたが飼った最初のペットの名前はなんですか？」といった特定の質問の入力を求めてはならないものとします,,。回復は回復コードやURLリンクなどを介して行うべきです
	- 制限の目安: 一般的に、Verifierはオンライン攻撃者に対し、同一アカウントで100回以上の連続した認証失敗試行を制限するものとします。追加のテクニックとして、認証失敗後に一定期間待つように要求したり、Authentication試行前にCAPTCHAの入力を要求したりすることが挙げられます
- 